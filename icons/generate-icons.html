<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Substack to Markdown - å›¾æ ‡ç”Ÿæˆå™¨</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
    }

    .container {
      background: white;
      border-radius: 16px;
      padding: 40px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    h1 {
      text-align: center;
      color: #333;
      margin-bottom: 10px;
    }

    .subtitle {
      text-align: center;
      color: #666;
      margin-bottom: 40px;
    }

    .preview-section {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 40px;
      margin: 40px 0;
      padding: 30px;
      background: #f8f9fa;
      border-radius: 12px;
    }

    .icon-preview {
      text-align: center;
    }

    .icon-preview canvas {
      border: 2px solid #ddd;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      margin: 10px 0;
    }

    .icon-preview span {
      display: block;
      margin-top: 10px;
      font-size: 14px;
      color: #666;
      font-weight: 600;
    }

    .button-group {
      display: flex;
      gap: 15px;
      justify-content: center;
      margin: 30px 0;
    }

    button {
      padding: 15px 30px;
      font-size: 16px;
      font-weight: 600;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s;
      background: linear-gradient(135deg, #FF6719 0%, #FF8542 100%);
      color: white;
      box-shadow: 0 4px 12px rgba(255, 103, 25, 0.3);
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(255, 103, 25, 0.4);
    }

    button:active {
      transform: translateY(0);
    }

    button.secondary {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);
    }

    button.secondary:hover {
      box-shadow: 0 6px 16px rgba(102, 126, 234, 0.4);
    }

    .info {
      background: #e7f3ff;
      border-left: 4px solid #2196F3;
      padding: 20px;
      border-radius: 8px;
      margin: 30px 0;
    }

    .info h3 {
      margin-top: 0;
      color: #1976D2;
    }

    .info ul {
      margin: 10px 0;
      padding-left: 20px;
    }

    .info li {
      margin: 8px 0;
      color: #555;
    }

    .success {
      background: #d4edda;
      border-left: 4px solid #28a745;
      padding: 15px;
      border-radius: 8px;
      margin: 20px 0;
      color: #155724;
      display: none;
    }

    .success.show {
      display: block;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ¨ Substack to Markdown å›¾æ ‡ç”Ÿæˆå™¨</h1>
    <p class="subtitle">ç”Ÿæˆ Chrome æ’ä»¶æ‰€éœ€çš„å›¾æ ‡æ–‡ä»¶</p>

    <div class="preview-section">
      <div class="icon-preview">
        <canvas id="canvas16" width="16" height="16"></canvas>
        <span>16Ã—16</span>
      </div>
      <div class="icon-preview">
        <canvas id="canvas48" width="48" height="48"></canvas>
        <span>48Ã—48</span>
      </div>
      <div class="icon-preview">
        <canvas id="canvas128" width="128" height="128"></canvas>
        <span>128Ã—128</span>
      </div>
    </div>

    <div class="button-group">
      <button onclick="downloadAll()">ğŸ“¥ ä¸‹è½½æ‰€æœ‰å›¾æ ‡</button>
      <button class="secondary" onclick="downloadSingle('16')">ä¸‹è½½ 16Ã—16</button>
      <button class="secondary" onclick="downloadSingle('48')">ä¸‹è½½ 48Ã—48</button>
      <button class="secondary" onclick="downloadSingle('128')">ä¸‹è½½ 128Ã—128</button>
    </div>

    <div id="success" class="success">
      âœ… å›¾æ ‡å·²æˆåŠŸç”Ÿæˆå¹¶ä¸‹è½½ï¼
    </div>

    <div class="info">
      <h3>ğŸ“‹ ä½¿ç”¨è¯´æ˜</h3>
      <ul>
        <li><strong>é¢„è§ˆ</strong>: ä¸Šæ–¹æ˜¾ç¤ºä¸‰ä¸ªå°ºå¯¸çš„å›¾æ ‡é¢„è§ˆ</li>
        <li><strong>ä¸‹è½½æ‰€æœ‰</strong>: ä¸€é”®ä¸‹è½½æ‰€æœ‰ä¸‰ä¸ªå°ºå¯¸çš„ PNG æ–‡ä»¶</li>
        <li><strong>å•ç‹¬ä¸‹è½½</strong>: å¯ä»¥ä¸‹è½½ç‰¹å®šå°ºå¯¸çš„å›¾æ ‡</li>
        <li><strong>è®¾è®¡é£æ ¼</strong>: é‡‡ç”¨ Substack å“ç‰Œæ©™è‰² (#FF6719)ï¼Œé…åˆå †æ ˆçº¿æ¡è®¾è®¡</li>
        <li><strong>å›¾æ ‡å«ä¹‰</strong>: ä¸‰æ¡æ¨ªçº¿ä»£è¡¨æ–‡ç« å†…å®¹å †å ï¼Œç®­å¤´è¡¨ç¤ºä¸‹è½½/ä¿å­˜ï¼Œ"MD" ä»£è¡¨ Markdown</li>
      </ul>
    </div>

    <div class="info">
      <h3>ğŸ¯ å›¾æ ‡è®¾è®¡è¯´æ˜</h3>
      <ul>
        <li><strong>é¢œè‰²</strong>: Substack å“ç‰Œæ©™è‰² (#FF6719) - åœ†å½¢èƒŒæ™¯</li>
        <li><strong>å †å çº¿æ¡</strong>: ä¸‰æ¡ç™½è‰²æ¨ªçº¿ä»£è¡¨æ–‡ç« å†…å®¹çš„å †å </li>
        <li><strong>ç®­å¤´</strong>: å‘ä¸‹ç®­å¤´è¡¨ç¤ºä¸‹è½½/ä¿å­˜æ“ä½œ</li>
        <li><strong>MD æ ‡è¯†</strong>: åº•éƒ¨ "MD" æ–‡å­—è¡¨ç¤º Markdown æ ¼å¼</li>
        <li><strong>å°ºå¯¸</strong>: 16Ã—16ï¼ˆå·¥å…·æ ï¼‰ã€48Ã—48ï¼ˆæ‰©å±•ç®¡ç†ï¼‰ã€128Ã—128ï¼ˆChrome å•†åº—ï¼‰</li>
      </ul>
    </div>
  </div>

  <script>
    // ç»˜åˆ¶å›¾æ ‡åˆ° Canvas
    function drawIcon(canvas, size) {
      const ctx = canvas.getContext('2d');
      const scale = size / 128;

      ctx.clearRect(0, 0, size, size);
      ctx.save();
      ctx.scale(scale, scale);

      // èƒŒæ™¯åœ†å½¢
      ctx.beginPath();
      ctx.arc(64, 64, 64, 0, Math.PI * 2);
      ctx.fillStyle = '#FF6719';
      ctx.fill();

      // ç™½è‰²å †æ ˆå›¾æ ‡
      ctx.fillStyle = '#FFFFFF';

      // åº•éƒ¨æ¡
      roundRect(ctx, 28, 75, 72, 8, 2);

      // ä¸­é—´æ¡
      roundRect(ctx, 28, 59, 72, 8, 2);

      // é¡¶éƒ¨æ¡
      roundRect(ctx, 28, 43, 72, 8, 2);

      // ç®­å¤´
      ctx.strokeStyle = '#FFFFFF';
      ctx.lineWidth = 3;
      ctx.lineCap = 'round';
      ctx.lineJoin = 'round';

      ctx.beginPath();
      ctx.moveTo(64, 20);
      ctx.lineTo(64, 38);
      ctx.stroke();

      // ç®­å¤´å·¦ä¾§
      ctx.beginPath();
      ctx.moveTo(64, 38);
      ctx.lineTo(58, 32);
      ctx.stroke();

      // ç®­å¤´å³ä¾§
      ctx.beginPath();
      ctx.moveTo(64, 38);
      ctx.lineTo(70, 32);
      ctx.stroke();

      // MD æ ‡è¯†
      ctx.fillStyle = '#FFFFFF';
      ctx.font = 'bold 14px Arial, sans-serif';
      ctx.textAlign = 'center';
      ctx.textBaseline = 'middle';
      ctx.fillText('MD', 64, 110);

      ctx.restore();
    }

    // ç»˜åˆ¶åœ†è§’çŸ©å½¢
    function roundRect(ctx, x, y, width, height, radius) {
      ctx.beginPath();
      ctx.moveTo(x + radius, y);
      ctx.lineTo(x + width - radius, y);
      ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
      ctx.lineTo(x + width, y + height - radius);
      ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
      ctx.lineTo(x + radius, y + height);
      ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
      ctx.lineTo(x, y + radius);
      ctx.quadraticCurveTo(x, y, x + radius, y);
      ctx.closePath();
      ctx.fill();
    }

    // ä¸‹è½½å•ä¸ªå›¾æ ‡
    function downloadIcon(size) {
      const canvas = document.getElementById(`canvas${size}`);
      const url = canvas.toDataURL('image/png');
      const a = document.createElement('a');
      a.href = url;
      a.download = `icon${size}.png`;
      a.click();
    }

    // ä¸‹è½½æ‰€æœ‰å›¾æ ‡
    function downloadAll() {
      downloadIcon(16);
      setTimeout(() => downloadIcon(48), 200);
      setTimeout(() => downloadIcon(128), 400);

      // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
      setTimeout(() => {
        const success = document.getElementById('success');
        success.classList.add('show');
        setTimeout(() => {
          success.classList.remove('show');
        }, 3000);
      }, 500);
    }

    // ä¸‹è½½å•ä¸ªå›¾æ ‡çš„åŒ…è£…å‡½æ•°
    function downloadSingle(size) {
      downloadIcon(size);
      const success = document.getElementById('success');
      success.textContent = `âœ… icon${size}.png å·²ä¸‹è½½ï¼`;
      success.classList.add('show');
      setTimeout(() => {
        success.classList.remove('show');
        success.textContent = 'âœ… å›¾æ ‡å·²æˆåŠŸç”Ÿæˆå¹¶ä¸‹è½½ï¼';
      }, 2000);
    }

    // é¡µé¢åŠ è½½æ—¶ç»˜åˆ¶å›¾æ ‡
    window.addEventListener('load', () => {
      drawIcon(document.getElementById('canvas16'), 16);
      drawIcon(document.getElementById('canvas48'), 48);
      drawIcon(document.getElementById('canvas128'), 128);
    });
  </script>
</body>
</html>
